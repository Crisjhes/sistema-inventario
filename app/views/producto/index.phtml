<div class="grid">
    <div>
        <h1>üì¶ Cat√°logo de Productos</h1>
        <p>Gesti√≥n de inventario y stock m√≠nimo.</p>
    </div>
    <div style="text-align: right;">
        <a href="<?= $this->url->get('producto/nuevo') ?>" class="button">
            + Agregar Producto
        </a>
    </div>
</div>

<figure>
    <table role="grid">
        <thead>
            <tr>
                <th scope="col">SKU</th>
                <th scope="col">Producto</th>
                <th scope="col">Categor√≠a</th>
                <th scope="col">Proveedor</th>
                <th scope="col">Alertas</th>
                <th scope="col">Estado</th>
                <th scope="col">Acciones</th>
            </tr>
        </thead>
        <tbody>
            <?php foreach ($productos as $p): ?>
            <tr>
                <td><strong><?= $p->sku ?></strong></td>
                <td><?= $p->nombre ?></td>
                <td>
                    <mark><?= $p->categoria ? $p->categoria->nombre : 'Sin categor√≠a' ?></mark>
                </td>
                <td><?= $p->proveedor ? $p->proveedor->razon_social : 'N/A' ?></td>
                <td>
                    <small>M√≠nimo: <?= $p->stock_min ?></small>
                </td>
                <td>
                    <?php if ($p->activo): ?>
                        <small style="color: green;">‚óè Activo</small>
                    <?php else: ?>
                        <small style="color: red;">‚óè Inactivo</small>
                    <?php endif; ?>
                </td>
                <td>
                    <div style="display: flex; gap: 10px;">
                        <a href="<?= $this->url->get('producto/editar/' . $p->id_producto) ?>" 
                           title="Editar">‚úèÔ∏è Editar</a>

                        <a href="<?= $this->url->get('producto/eliminar/' . $p->id_producto) ?>" 
                           style="color: #c0392b;"
                           onclick="return confirm('¬øEst√°s seguro de eliminar este producto?')">üóëÔ∏è Eliminar</a>
                    </div>
                </td>
            </tr>
            <?php endforeach; ?>
        </tbody>
    </table>
</figure>

<?php if (count($productos) == 0): ?>
    <div class="container" style="text-align: center; padding: 50px;">
        <p>No hay productos registrados a√∫n. ¬°Comienza agregando uno!</p>
    </div>
<?php endif; ?>